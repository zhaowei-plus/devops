var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,r=Object.prototype.propertyIsEnumerable,n=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r,l=(e,l)=>{for(var i in l||(l={}))t.call(l,i)&&n(e,i,l[i]);if(a)for(var i of a(l))r.call(l,i)&&n(e,i,l[i]);return e};import{_ as i,ae as o,l as s,ak as d,ag as c,h as m,b as p,k as u}from"./vendor.931d8f24.js";import{u as f}from"./useList.da577dd6.js";import{u as y}from"./useVisible.7f795f63.js";import{L as E}from"./index.54d80d25.js";import{r as b}from"./index.d0ed3dc5.js";import{a as h}from"./index.6547ff7d.js";const v=e=>{const{params:t={},onCancel:a,onOk:r}=e,{title:n,type:l,id:o}=t,[u,f]=i.useState(),y=i.useMemo((()=>s.createAsyncFormActions()),[]);i.useEffect((()=>{var e;o&&(e=o,b.get("/dev-ops/monitor/getAlarmGroup",{id:e}).then((e=>{f(e.data)})))}),[o]);const E={name:{required:!0,type:"string",title:"计划名"},mobileList:{required:!0,type:"textarea",title:"手机号列表",description:"逗号分隔的手机号列表"}};return i.createElement(d,{visible:!0,centered:!0,title:n,onCancel:a,footer:i.createElement(i.Fragment,null,"detail"===l?i.createElement(c,{type:"primary",onClick:a},"确定"):i.createElement(i.Fragment,null,i.createElement(c,{onClick:a},"取消"),i.createElement(c,{type:"primary",onClick:()=>y.submit()},"确定")))},i.createElement(m,{labelCol:6,wrapperCol:16,actions:y,initialValues:u,onSubmit:e=>b.post("/dev-ops/monitor/editAlarmGroup",e).then((e=>{p.success(`${n}成功`),r()})),previewPlaceholder:"暂无数据",editable:"detail"!==l,schema:{type:"object",properties:h(E)}}))},{Header:C,Content:j}=E;export default()=>{const e=y(),t=f("/dev-ops/monitor/alarmGroupList");i.useEffect((()=>{t.onSearch()}),[]);const a=(e=>{const{handleEdit:t,handleDetail:a}=e;return[{title:"id",dataIndex:"id"},{title:"名称",dataIndex:"name"},{title:"操作",dataIndex:"id",width:140,render:(e,r)=>i.createElement(o,null,i.createElement("a",{onClick:()=>t(r)},"编辑"),i.createElement("a",{onClick:()=>a(r)},"详情"))}]})({handleEdit:({id:t})=>{e.open({title:"编辑报警接收分组",type:"edit",id:t})},handleDetail:({id:t})=>{e.open({title:"报警接收分组详情",type:"detail",id:t})}});return i.createElement(E,{loading:t.loading},i.createElement(C,{title:"报警接收分组",extra:i.createElement(c,{type:"primary",onClick:()=>{e.open({title:"新增报警接收分组",type:"add"})}},"新增报警接收分组")}),i.createElement(j,null,i.createElement(u,l(l({columns:a},t.table),{scroll:{x:"max-content"}}))),e.visible&&i.createElement(v,{params:e.params,onCancel:e.close,onOk:()=>{e.close(),t.onRefresh()}}))};
