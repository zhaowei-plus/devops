var e=Object.defineProperty,r=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,t=Object.prototype.propertyIsEnumerable,o=(r,a,t)=>a in r?e(r,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[a]=t;import{_ as s,h as n,al as c,i as l,am as p}from"./vendor.931d8f24.js";import{c as i}from"./index.54d80d25.js";const f=e=>{const r=i(e);return Object.keys(r).forEach((e=>{const a=r[e];["string","string","number","textarea"].includes(a.type)&&(Reflect.has(a,"x-props")||(a["x-props"]={}),Reflect.has(a["x-props"],"placeholder")||(Array.isArray(a.enum)?(a["x-props"].placeholder="请选择",a["x-props"].getPopupContainer=e=>e.parentNode,Reflect.has(a["x-props"],"allowClear")||(a["x-props"].allowClear=!0)):a["x-props"].placeholder="请输入"))})),r},m=(e,r=[null,void 0,NaN,""])=>{if(e instanceof Object){const a={};return Object.keys(e).forEach((t=>{"object"==typeof e[t]&&e[t].constructor===Object?a[t]=m(e[t],r):r.includes(e[t])||(a[t]=e[t])})),a}return e},u=e=>{const{schema:i,onSearch:u,params:b={}}=e,d=((e,o)=>{var s={};for(var n in e)r.call(e,n)&&o.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&a)for(var n of a(e))o.indexOf(n)<0&&t.call(e,n)&&(s[n]=e[n]);return s})(e,["schema","onSearch","params"]),h=e=>{u(m(e))};return s.createElement(n,((e,s)=>{for(var n in s||(s={}))r.call(s,n)&&o(e,n,s[n]);if(a)for(var n of a(s))t.call(s,n)&&o(e,n,s[n]);return e})({onSubmit:h,onReset:h,className:"search",schema:{type:"object",properties:f(i)},defaultValue:b},d),s.createElement(c,{className:"search__actions"},s.createElement(l,{loading:!1},"查询"),s.createElement(p,null,"重置")))};export{u as S};
