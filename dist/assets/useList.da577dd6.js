var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,r=Object.getOwnPropertySymbols,a=Object.prototype.propertyIsEnumerable,o=(t,r,a)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[r]=a,n=(e,n)=>{for(var u in n||(n={}))t.call(n,u)&&o(e,u,n[u]);if(r)for(var u of r(n))a.call(n,u)&&o(e,u,n[u]);return e};import{_ as u}from"./vendor.931d8f24.js";import{r as s}from"./index.d0ed3dc5.js";var l=(e,t={},r={},a=!0)=>{const[o,l]=u.useState(n(n({},t),r)),[c,p]=u.useState(a),[i,g]=u.useState([]),[d,S]=u.useState({current:1,pageSize:20,total:0,showQuickJumper:!0,showSizeChanger:!0,showTotal:e=>`共${e}条`}),f=(t=d,a=o)=>{const{current:u,pageSize:c}=t;return p(!0),s.get(e,n(n({pageIndex:u,currentPage:u,page:u,pageSize:c,pageCount:c},a),r)).then((e=>{const{data:o={}}=e,s=o.rows||o.list,c=o.totalCount||o.count||o.total;return g(s),S(n(n({},t),{total:c,current:u,showTotal:e=>`共${e}条`})),l(n(n({},a),r)),{dataSource:s,total:c}})).finally((()=>{p(!1)}))};return{params:o,onSearch:(e={})=>f(n(n({},d),{current:1}),e),onRefresh:f,loading:c,table:{rowKey:"id",pagination:d,dataSource:i,onChange:e=>f(e)}}};export{l as u};
