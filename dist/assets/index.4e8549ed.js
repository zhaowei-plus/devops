var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,r=Object.prototype.propertyIsEnumerable,n=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r,o=(e,o)=>{for(var d in o||(o={}))t.call(o,d)&&n(e,d,o[d]);if(a)for(var d of a(o))r.call(o,d)&&n(e,d,o[d]);return e};import{_ as d,k as l,aj as s}from"./vendor.931d8f24.js";import{u as i}from"./useList.da577dd6.js";import{L as c}from"./index.54d80d25.js";import{S as f}from"./index.cd79d446.js";import"./index.d0ed3dc5.js";import{f as p}from"./index.6547ff7d.js";const{Header:m,Content:u}=c;export default()=>{const e=i("/dev-ops/devops/log/query");d.useEffect((()=>{e.onRefresh()}),[]);const n={account:{type:"string",title:"登录账号"},"[startDate,endDate]":{type:"daterange",title:"日期","x-props":{placeholder:["开始时间","结束时间"]}}},x=[{title:"账号",dataIndex:"account"},{title:"操作",dataIndex:"operation"},{title:"操作者",dataIndex:"operator"},{title:"操作时间",dataIndex:"gmtCreate",render:e=>p(e)},{title:"结果",dataIndex:"result"}];return d.createElement(c,{loading:e.loading},d.createElement(m,{title:"发布记录"}),d.createElement(u,null,d.createElement(f,{schema:n,onSearch:n=>{const{startDate:o,endDate:d}=n,l=((e,n)=>{var o={};for(var d in e)t.call(e,d)&&n.indexOf(d)<0&&(o[d]=e[d]);if(null!=e&&a)for(var d of a(e))n.indexOf(d)<0&&r.call(e,d)&&(o[d]=e[d]);return o})(n,["startDate","endDate"]);o&&d&&(l.startDate=s(o).startOf("ss").valueOf(),l.endDate=s(d).endOf("ss").valueOf()),e.onSearch(l)}}),d.createElement(l,o(o({columns:x},e.table),{scroll:{x:"max-content"}}))))};
